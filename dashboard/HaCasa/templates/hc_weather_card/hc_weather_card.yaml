hc_weather_card:
  variables:
    hc_card_background: var(--cloudy) #used for fallback, if condition is not set in theme
    hc_card_text_color: var(--cloudy-text) #used for fallback, if condition is not set in theme
    hc_title_entity:
    hc_subtitle_entity:
    hc_secondary_info:
  show_label: true
  show_icon: false
  name: "[[[ return variables.hc_title_entity ]]]"
  label: "[[[ return variables.hc_subtitle_entity ]]]"
  styles:
    grid:
      - grid-template-areas: |
          'n'
          'l'
          'weather'
      - grid-template-columns: min-content
      - grid-template-rows: min-content 40px 40px
    card:
      - background: |
          [[[ 
            var cond = states[entity.entity_id].state

            switch (cond) {
              case 'rainy':
                return 'var(--rainy)';
              case 'sunny':
                return 'var(--sunny)';
              case 'cloudy':
                return 'var(--cloudy)';
              case 'pouring':
                return 'var(--pouring)';
              default:
                return variables.hc_card_background;
            }
          ]]]
      - padding: 25px
    name:
      - color: &textcolor |
          [[[ 
            var cond = states[entity.entity_id].state

            switch (cond) {
              case 'rainy':
                return 'var(--rainy-text)';
              case 'sunny':
                return 'var(--sunny-text)';
              case 'cloudy':
                return 'var(--cloudy-text)';
              case 'pouring':
                return 'var(--pouring-text)';
              default:
                return variables.hc_card_text_color;
            }
          ]]]
      - justify-self: start
      - font-family: montserrat
      - font-weight: 700
      - font-size: 2rem
      - z-index: 1
    label:
      - color: *textcolor
      - justify-self: start
      - z-index: 1
      - font-family: montserrat
      - font-size: 1rem
    custom_fields:
      icon:
        - width: 150px
        - height: 150px
        - right: 0
        - top: -15%
        - position: absolute
        - overflow: visible
  custom_fields:
    weather:
      card:
        type: custom:button-card
        show_label: true
        entity: "[[[ return entity.entity_id ]]]"
        show_name: true
        show_icon: false
        show_state: false
        name: >-
          [[[ return 'It is ' + Math.round(states[entity.entity_id].attributes.temperature) + 'Ëš and ' + states[entity.entity_id].state ]]]
        label: "[[[ return variables.hc_secondary_info ]]]"
        styles:
          grid:
            - grid-template-areas: |
                'n'
                'l'
            - grid-template-rows: min-content min-content
            - grid-template-columns: min-content
          card:
            - background: none
            - box-shadow: none
            - border-radius: none
            - overflow: visible
          name:
            - justify-self: start
            - overflow: visible
            - font-family: montserrat
            - opacity: 0.8
            - font-size: 1rem
            - color: *textcolor
          label:
            - justify-self: start
            - font-size: 1rem
            - font-family: montserrat
            - opacity: 0.8
            - color: *textcolor
    icon: |
      [[[
          var weather = states[entity.entity_id].state;
          return '<img src = "/local/weather-icons/' + weather + '.svg" />'
      ]]]
